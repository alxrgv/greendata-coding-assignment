{"version":3,"sources":["store/models/Employee.ts","store/models/index.ts","store/initial/positions.ts","store/features/positions/positions.ts","store/features/positions/selectors.ts","store/features/employees/employees.ts","store/features/employees/selectors.ts","components/RandomizeButton/index.tsx","components/AppHeader/index.tsx","components/EmployeesList/config.ts","components/EmployeesList/TableRow.tsx","components/EmployeesList/index.tsx","components/EmployeeInformation/state.ts","components/EmployeeInformation/context.ts","components/EmployeeInformation/TabPanel.tsx","components/EmployeeInformation/ColleaguesTab.tsx","components/EmployeeInformation/DescriptionTab.tsx","components/EmployeeInformation/Controls.tsx","components/EmployeeInformation/index.tsx","store/index.ts","App.tsx","index.tsx"],"names":["ColleagueState","IsFiredState","Gender","EMPTY_ID","EMPTY_EMPLOYEE","id","fullname","position","birthday","gender","Unknown","isFired","No","colleagues","itGrades","developerTypes","analystGrades","headAndAlternate","generateHeadAndAlternate","name","map","ha","positionsInitialState","mapped","grade","developerType","Array","prototype","concat","apply","generateDevelopers","reduce","acc","value","nanoid","entities","ids","push","positionsAdapter","createEntityAdapter","sortComparer","a","b","localeCompare","reducer","createSlice","initialState","getInitialState","reducers","getSelectors","selectAllPositions","selectById","selectAll","employeeAdapter","createEmployeeAction","createAction","employee","payload","removeEmployeeAction","updateEmployeeAction","markEmployeeIdAsSelectedAction","selectedEmployeeId","extraReducers","builder","addCase","state","addOne","Object","keys","entityKey","entity","filteredColleagues","filter","length","removeOne","changes","colleagueId","Added","updateOne","selectors","employeeEntitiesSelector","employees","positionEntitiesSelector","positions","denormalizeEmployee","emp","employeeEntities","positionEntites","employeePosition","colleagueKey","colleague","colleaguePosition","selectDenormalizedEmployee","createSelector","store","employeeFromProps","selectAllDenormalizedEmployees","employeeKey","selectedEmployeeSelector","selectedEmployeeIdSelector","selectAllEmployees","useStyles","selectTotal","makeStyles","theme","absolute","bottom","spacing","left","RandomizeButton","classes","dispatch","useDispatch","availablePositions","useSelector","generateRandomEmployees","Faker","employeeCount","Math","floor","random","index","sex","number","min","max","firstName","lastName","arrayElement","date","between","boolean","Yes","Male","Female","item","round","unstable_batchedUpdates","Tooltip","title","Fab","color","className","onClick","header","marginBottom","AppHeader","props","AppBar","Toolbar","variant","Typography","mainTableConfig","key","cellAlign","titleAlign","selector","render","isDate","format","locale","ru","nestedTableConfig","useRowStyles","root","cursor","noGutters","paddingBottom","paddingTop","TableRow","data","currentDenormalizedEmployee","React","useState","expanded","expand","toggle","useCallback","useEffect","colleaguesKeys","Fragment","selected","hover","TableCell","IconButton","size","cell","align","colSpan","Collapse","in","timeout","Box","margin","gutterBottom","component","Table","TableHead","TableBody","scope","listContainer","maxHeight","overflow","EmployeesList","Paper","stickyHeader","display","flexDirection","height","padding","justifyContent","alignItems","textAlign","whyDidYouRender","clearPendingEmployeeAction","updatePendingEmployeeAction","employeeInfoReducer","createReducer","assign","currentTab","pendingEmployee","EmployeeInformationContext","createContext","useEmployeeInformation","useContext","tabPanelContainer","flex","tabPanel","right","top","TabPanel","children","other","isHidden","hidden","card","cardHeader","list","width","ColleaguesTab","localDispatch","selectedEmployee","employeesCount","isEditingSelectedEmployee","Card","elevation","CardHeader","subheader","Divider","List","ListItem","ListItemIcon","Checkbox","disableRipple","checked","indexOf","onChange","target","Removed","ListItemText","primary","secondary","DescriptionTab","currentEmployee","fullnameFilled","positionFilled","Grid","container","xs","FormControl","fullWidth","required","error","FormLabel","Input","FormHelperText","Select","displayEmpty","MenuItem","label","disableMaskedInput","showDaysOutsideCurrentMonth","minDate","Date","maxDate","renderInput","TextField","helperText","inputFormat","RadioGroup","row","FormControlLabel","control","Radio","box","gutter","marginRight","ControlsBase","canCreateEmployee","canClear","clsx","Button","disabled","Controls","memo","infoContainer","minHeight","EmployeeInformationContextProvider","Provider","EmployeeInformation","setCurrentTab","useReducer","Tabs","centered","event","newValue","Tab","wrapped","configureStore","employeeReducer","positionReducer","middleware","getDefaultMiddleware","thunk","immutableCheck","serializableCheck","paddingLeft","paddingRight","employeeListItem","bottomGutter","App","LocalizationProvider","dateAdapter","DateFnsUtils","sm","fullscreen","baseTheme","createMuiTheme","overrides","MuiCssBaseline","html","body","AppContainer","ThemeProvider","CssBaseline","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.1775533a.chunk.js","sourcesContent":["import type { EntityBase } from \"./EntityBase\";\nimport type { EmployeePosition, EmployeePositionId } from \"./EmployeePosition\";\n\nexport type EmployeeId = string;\n\nexport enum ColleagueState {\n  Added,\n  Removed,\n}\nexport enum IsFiredState {\n  No,\n  Yes,\n}\nexport enum Gender {\n  Male,\n  Female,\n  Unknown,\n}\n\nexport interface Employee extends EntityBase<EmployeeId> {\n  fullname: string;\n  position: EmployeePosition;\n  birthday: Date | null;\n  gender: Gender;\n  isFired: IsFiredState;\n  colleagues: Record<string, Employee>;\n}\n\nexport interface EmployeeEntity\n  extends Omit<Employee, \"position\" | \"colleagues\"> {\n  position: EmployeePositionId;\n  colleagues: EmployeeId[];\n}\n\nexport const EMPTY_ID = \"\";\nexport const EMPTY_EMPLOYEE: EmployeeEntity = {\n  id: EMPTY_ID,\n  fullname: \"\",\n  position: \"\",\n  birthday: null,\n  gender: Gender.Unknown,\n  isFired: IsFiredState.No,\n  colleagues: [],\n};\n","export * from \"./Employee\";\nexport * from \"./EmployeePosition\";\n","const itGrades = [\"Junior\", \"Middle\", \"Senior\"];\nconst developerTypes = [\"Frontend\", \"Backend\", \"iOS\", \"Android\"];\nconst analystGrades = [\"Стажёр\", \"Младший\", \"Старший\"];\nconst headAndAlternate = [\"Руководитель\", \"Заместитель руководителя\"];\n\nfunction generateHeadAndAlternate(name: string) {\n  return headAndAlternate.map((ha) => `${ha} ${name}`);\n}\n\nfunction generateDevelopers() {\n  const mapped = itGrades.map((grade) =>\n    developerTypes.map((developerType) => {\n      return `${grade} ${developerType} разработчик`;\n    })\n  );\n\n  return Array.prototype.concat.apply([], mapped);\n}\n\nfunction generateAnalysts() {\n  return analystGrades.map((grade) => `${grade} аналитик`);\n}\n\nexport const positions = [\n  \"Директор\",\n  \"Заместитель директора\",\n  ...generateHeadAndAlternate(\"экономического отдела\"),\n  ...generateHeadAndAlternate(\"отдела маркетинга\"),\n  ...generateHeadAndAlternate(\"бухгалтерского отдела\"),\n  \"Руководитель команды разработки\",\n  ...generateDevelopers(),\n  ...generateAnalysts(),\n];\n","import { nanoid } from \"nanoid\";\nimport { createEntityAdapter, createSlice } from \"@reduxjs/toolkit\";\n\nimport type { EmployeePositionEntity } from \"store/models\";\n\nimport { positions } from \"store/initial\";\n\nconst positionsInitialState: {\n  ids: number[];\n  entities: string[];\n} = positions.reduce(\n  (acc, value) => {\n    const id = nanoid();\n\n    acc.entities[id] = { id, value };\n    acc.ids.push(id);\n\n    return acc;\n  },\n  { ids: [], entities: {} }\n);\n\nexport const positionsAdapter = createEntityAdapter<EmployeePositionEntity>({\n  sortComparer: (a, b) => a.value.localeCompare(b.value),\n});\n\nexport const { reducer } = createSlice({\n  name: \"positions\",\n  initialState: positionsAdapter.getInitialState({\n    ...positionsInitialState,\n  }),\n  reducers: {},\n});\n\nexport type PositionsReducer = typeof reducer;\n","import { positionsAdapter } from \"./positions\";\n\nexport const {\n  selectById: selectPositionById,\n  selectAll: selectAllPositions,\n} = positionsAdapter.getSelectors();\n","import { nanoid } from \"nanoid\";\nimport {\n  createAction,\n  createEntityAdapter,\n  createSlice,\n} from \"@reduxjs/toolkit\";\n\nimport type { Update } from \"@reduxjs/toolkit\";\nimport type { EmployeeEntity, EmployeeId } from \"store/models\";\n\nimport { ColleagueState } from \"store/models\";\n\nexport const employeeAdapter = createEntityAdapter<EmployeeEntity>({\n  sortComparer: (a, b) => a.fullname.localeCompare(b.fullname),\n});\n\nexport const createEmployeeAction = createAction(\n  \"employee/add\",\n  (employee: EmployeeEntity) => ({\n    payload: ({\n      ...employee,\n      ...(employee.id === \"\" && { id: nanoid() }),\n    } as any) as EmployeeEntity,\n  })\n);\nexport const removeEmployeeAction = createAction<EmployeeId>(\"employee/remove\");\n\nexport type ColleaguesUpdate = {\n  colleagues: {\n    id: EmployeeId;\n    state: ColleagueState;\n  };\n};\nexport type EmployeeWithoutColleagues = Omit<EmployeeEntity, \"colleagues\">;\nexport type EmployeeUpdate =\n  | Update<EmployeeWithoutColleagues>\n  | Update<ColleaguesUpdate>;\nexport const updateEmployeeAction = createAction<EmployeeUpdate>(\n  \"employee/update\"\n);\nexport const markEmployeeIdAsSelectedAction = createAction<\n  EmployeeId | EmployeeEntity\n>(\"employee/select\");\n\nexport const { reducer } = createSlice({\n  name: \"employees\",\n  initialState: {\n    ...employeeAdapter.getInitialState({\n      selectedEmployeeId: \"\",\n    }),\n  },\n  reducers: {},\n  extraReducers: (builder) => {\n    builder\n      .addCase(createEmployeeAction, (state, { payload }) => {\n        employeeAdapter.addOne(state, payload);\n      })\n      .addCase(removeEmployeeAction, (state, { payload }) => {\n        state.selectedEmployeeId = \"\";\n\n        // remove all entries pointing to employee\n        // eslint-disable-next-line array-callback-return\n        Object.keys(state.entities).map((entityKey) => {\n          const entity = state.entities[entityKey]!;\n\n          const filteredColleagues = entity.colleagues.filter(\n            (id) => id !== payload\n          );\n\n          if (filteredColleagues.length !== entity.colleagues.length) {\n            entity.colleagues = filteredColleagues;\n          }\n        });\n\n        employeeAdapter.removeOne(state, payload);\n      })\n      .addCase(updateEmployeeAction, (state, { payload }) => {\n        const { id, changes } = payload;\n\n        if (\"colleagues\" in changes) {\n          const {\n            id: colleagueId,\n            state: colleagueState,\n          } = changes.colleagues!;\n\n          if (colleagueState === ColleagueState.Added) {\n            state.entities[id]!.colleagues.push(colleagueId);\n          } else {\n            state.entities[id]!.colleagues = state.entities[\n              id\n            ]!.colleagues.filter((id) => id !== colleagueId);\n          }\n        } else {\n          employeeAdapter.updateOne(\n            state,\n            payload as Update<EmployeeWithoutColleagues>\n          );\n        }\n      })\n      .addCase(markEmployeeIdAsSelectedAction, (state, { payload }) => {\n        if (typeof payload === \"string\") {\n          state.selectedEmployeeId = payload;\n        } else {\n          state.selectedEmployeeId = payload.id;\n        }\n      });\n  },\n});\n\nexport type EmployeeSliceReducer = typeof reducer;\n","import { createSelector, Dictionary } from \"@reduxjs/toolkit\";\n\nimport type { StoreState } from \"store\";\nimport type {\n  EmployeeId,\n  EmployeeEntity,\n  EmployeePositionEntity,\n} from \"store/models\";\n\nimport { employeeAdapter } from \"./employees\";\nimport { EMPTY_ID, EMPTY_EMPLOYEE } from \"store/models\";\nimport { reducer } from \"./employees\";\n\nconst selectors = employeeAdapter.getSelectors();\n\nconst getEmployeeFromProps = (store: StoreState, employee: EmployeeEntity) =>\n  employee;\nconst employeeEntitiesSelector = (state: StoreState) =>\n  state.employees.entities;\nconst positionEntitiesSelector = (state: StoreState) =>\n  state.positions.entities;\n\nconst denormalizeEmployee = (\n  emp: EmployeeEntity,\n  employeeEntities: Dictionary<EmployeeEntity>,\n  positionEntites: Dictionary<EmployeePositionEntity>\n) => {\n  const employeePosition = positionEntites[emp.position]!.value;\n  const colleagues = emp.colleagues.reduce((acc, colleagueKey) => {\n    const { colleagues, ...colleague } = employeeEntities[colleagueKey]!;\n    const colleaguePosition = positionEntites[colleague.position]!.value;\n\n    (acc as any)[colleagueKey] = {\n      ...colleague,\n      position: colleaguePosition,\n    };\n    return acc;\n  }, {});\n\n  return {\n    ...emp,\n    position: employeePosition,\n    colleagues,\n  };\n};\n\nexport const selectDenormalizedEmployee = createSelector(\n  employeeEntitiesSelector,\n  positionEntitiesSelector,\n  getEmployeeFromProps,\n  (\n    employeeEntities: Dictionary<EmployeeEntity>,\n    positionEntites: Dictionary<EmployeePositionEntity>,\n    employeeFromProps: EmployeeEntity\n  ) => {\n    return denormalizeEmployee(\n      employeeFromProps,\n      employeeEntities,\n      positionEntites\n    );\n  }\n);\nexport const selectAllDenormalizedEmployees = createSelector(\n  employeeEntitiesSelector,\n  positionEntitiesSelector,\n  (\n    employeeEntities: Dictionary<EmployeeEntity>,\n    positionEntites: Dictionary<EmployeePositionEntity>\n  ) => {\n    return Object.keys(employeeEntities)!.map((employeeKey: EmployeeId) =>\n      denormalizeEmployee(\n        employeeEntities[employeeKey]!,\n        employeeEntities,\n        positionEntites\n      )\n    );\n  }\n);\n\nexport const isSomeoneSelectedSelector = (state: ReturnType<typeof reducer>) =>\n  state.selectedEmployeeId !== EMPTY_ID;\nexport const selectedEmployeeSelector = (state: ReturnType<typeof reducer>) => {\n  if (state.selectedEmployeeId === EMPTY_ID) {\n    return EMPTY_EMPLOYEE;\n  }\n\n  return state.entities[state.selectedEmployeeId];\n};\nexport const selectedEmployeeIdSelector = (state: ReturnType<typeof reducer>) =>\n  state.selectedEmployeeId;\n\nexport const selectEmployeeById = selectors.selectById;\nexport const selectAllEmployees = selectors.selectAll;\nexport const selectTotalEmployees = selectors.selectTotal;\n","import React from \"react\";\nimport { unstable_batchedUpdates } from \"react-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Fab, Tooltip, makeStyles } from \"@material-ui/core\";\nimport { nanoid } from \"nanoid\";\nimport Autorenew from \"@material-ui/icons/Autorenew\";\n\nimport type { StoreState } from \"store\";\nimport type { EmployeePositionEntity, EmployeeEntity } from \"store/models\";\n\nimport { Gender, IsFiredState } from \"store/models\";\nimport { selectAllPositions } from \"store/features/positions\";\nimport { createEmployeeAction } from \"store/features/employees\";\n\nconst useStyles = makeStyles((theme) => ({\n  absolute: {\n    position: \"fixed\",\n    bottom: theme.spacing(2),\n    left: theme.spacing(2),\n  },\n}));\n\nfunction RandomizeButton() {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const availablePositions = useSelector<StoreState>((state) =>\n    selectAllPositions(state.positions)\n  ) as EmployeePositionEntity[];\n\n  const generateRandomEmployees = async () => {\n    const Faker = await import(\"faker/locale/ru\");\n\n    const min = 3;\n    const max = 10;\n    const employeeCount = Math.floor(Math.random() * (max - min + 1) + min);\n\n    const employees: EmployeeEntity[] = [];\n    for (let index = 0; index < employeeCount; index++) {\n      const sex = Faker.random.number({\n        min: 0,\n        max: 1,\n      });\n      const fullname = `${Faker.name.firstName(sex)} ${Faker.name.lastName(\n        sex\n      )}`;\n      const position = Faker.random.arrayElement(availablePositions);\n      const birthday = Faker.date.between(\"01/01/1950\", \"01/01/2002\");\n      const isFired = Faker.random.boolean();\n\n      employees.push({\n        id: nanoid(36),\n        fullname,\n        birthday,\n        isFired: isFired ? IsFiredState.Yes : IsFiredState.No,\n        position: position.id,\n        gender: sex === 0 ? Gender.Male : Gender.Female,\n        colleagues: null as any,\n      });\n    }\n\n    for (let index = 0; index < employees.length; index++) {\n      const employee = employees[index];\n\n      const colleagues = employees.reduce(\n        (acc: EmployeeEntity[\"id\"][], item) => {\n          if (Math.round(Math.random()) || item.id === employee.id) {\n            return acc;\n          }\n\n          return acc.concat(item.id);\n        },\n        []\n      );\n      employee.colleagues = colleagues;\n    }\n\n    unstable_batchedUpdates(() => {\n      for (let index = 0; index < employeeCount; index++) {\n        dispatch(createEmployeeAction(employees[index]));\n      }\n    });\n  };\n\n  return (\n    <Tooltip title=\"Заполнить случайными значениями\">\n      <Fab\n        color=\"primary\"\n        className={classes.absolute}\n        onClick={generateRandomEmployees}\n      >\n        <Autorenew />\n      </Fab>\n    </Tooltip>\n  );\n}\n\nexport { RandomizeButton };\n","import React from \"react\";\nimport { AppBar, Toolbar, Typography, makeStyles } from \"@material-ui/core\";\n\nimport type { WithoutChildren } from \"types/children\";\n\nconst useStyles = makeStyles((theme) => ({\n  header: {\n    marginBottom: theme.spacing(2),\n  },\n}));\n\nfunction AppHeader(props: WithoutChildren) {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.header}>\n      <AppBar position=\"static\">\n        <Toolbar variant=\"dense\">\n          <Typography variant=\"h6\" color=\"inherit\">\n            Список сотрудников\n          </Typography>\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n}\n\nexport { AppHeader };\n","import { format, isDate } from \"date-fns\";\nimport { ru } from \"date-fns/locale\";\n\nimport type { ReactNode } from \"react\";\nimport type { TableCellProps } from \"@material-ui/core\";\nimport type { Employee } from \"store/models\";\nimport type { PropTypeExtractor } from \"types/global\";\n\nimport { Gender } from \"store/models\";\n\nexport interface CellConfig {\n  key: string;\n  title: string;\n  cellAlign: TableCellProps[\"align\"];\n  titleAlign: TableCellProps[\"align\"];\n  selector: (emp: Employee) => PropTypeExtractor<Employee>;\n  render: (value: any) => ReactNode;\n}\n\nconst undefinedStringifiedValue = \"Не указано\";\nexport const mainTableConfig: CellConfig[] = [\n  {\n    key: \"fullname\",\n    title: \"ФИО\",\n    cellAlign: \"left\",\n    titleAlign: \"center\",\n    selector: (emp) => emp.fullname,\n    render: (value: string) => value,\n  },\n  {\n    key: \"gender\",\n    title: \"Пол\",\n    cellAlign: \"right\",\n    titleAlign: \"center\",\n    selector: (emp) => emp.gender,\n    render: (value: Gender) => {\n      if (value === Gender.Unknown) {\n        return undefinedStringifiedValue;\n      } else if (value === Gender.Male) {\n        return \"Мужской\";\n      } else {\n        return \"Женский\";\n      }\n    },\n  },\n  {\n    key: \"position\",\n    title: \"Должность\",\n    cellAlign: \"right\",\n    titleAlign: \"center\",\n    selector: (emp) => emp.position,\n    render: (value: string) => value,\n  },\n  {\n    key: \"birthday\",\n    title: \"Дата рождения\",\n    cellAlign: \"right\",\n    titleAlign: \"right\",\n    selector: (emp) => emp.birthday,\n    render: (value: Date | null) => {\n      if (isDate(value)) {\n        return format(value as Date, \"dd MMMM yyyy\", { locale: ru });\n      }\n\n      return undefinedStringifiedValue;\n    },\n  },\n  {\n    key: \"isFired\",\n    title: \"Уволен\",\n    cellAlign: \"center\",\n    titleAlign: \"right\",\n    selector: (emp) => emp.isFired,\n    render: (value: boolean) => (value ? \"Да\" : \"Нет\"),\n  },\n];\n\nexport const nestedTableConfig: CellConfig[] = [\n  {\n    key: \"fullname\",\n    title: \"ФИО\",\n    cellAlign: \"center\",\n    titleAlign: \"center\",\n    selector: (emp) => emp.fullname,\n    render: (value: string) => value,\n  },\n  {\n    key: \"position\",\n    title: \"Должность\",\n    cellAlign: \"center\",\n    titleAlign: \"center\",\n    selector: (emp) => emp.position,\n    render: (value: string) => value,\n  },\n];\n","import React, { useCallback, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n  Box,\n  Collapse,\n  IconButton,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow as MuiTableRow,\n  Typography,\n} from \"@material-ui/core\";\nimport KeyboardArrowDownIcon from \"@material-ui/icons/KeyboardArrowDown\";\nimport KeyboardArrowUpIcon from \"@material-ui/icons/KeyboardArrowUp\";\n\nimport { mainTableConfig, nestedTableConfig } from \"./config\";\nimport type { StoreState } from \"store\";\nimport type { Employee, EmployeeId, EmployeeEntity } from \"store/models\";\nimport type { WithoutChildren } from \"types/children\";\n\nimport {\n  markEmployeeIdAsSelectedAction,\n  selectedEmployeeIdSelector,\n  selectDenormalizedEmployee,\n} from \"store/features/employees\";\n\nconst useRowStyles = makeStyles({\n  root: {\n    cursor: \"pointer\",\n  },\n  noGutters: {\n    paddingBottom: 0,\n    paddingTop: 0,\n  },\n});\n\ninterface TableRowProps {\n  data: EmployeeEntity;\n}\n\nfunction TableRow({ data }: WithoutChildren<TableRowProps>) {\n  const classes = useRowStyles();\n  const dispatch = useDispatch();\n\n  const currentDenormalizedEmployee = useSelector<StoreState>((state) =>\n    selectDenormalizedEmployee(state, data)\n  ) as Employee;\n\n  const selectedEmployeeId = useSelector<StoreState>((state) =>\n    selectedEmployeeIdSelector(state.employees)\n  ) as EmployeeId;\n\n  const [expanded, expand] = React.useState(false);\n\n  const toggle = useCallback(() => {\n    expand((expanded) => {\n      if (expanded) {\n        dispatch(markEmployeeIdAsSelectedAction(\"\"));\n      } else {\n        dispatch(markEmployeeIdAsSelectedAction(data));\n      }\n\n      return !expanded;\n    });\n  }, [data, dispatch]);\n\n  useEffect(() => {\n    if (selectedEmployeeId !== data.id) {\n      if (expanded) {\n        expand(false);\n      }\n    }\n  }, [data.id, expanded, selectedEmployeeId]);\n\n  const colleaguesKeys = Object.keys(currentDenormalizedEmployee.colleagues);\n\n  return (\n    <React.Fragment>\n      <MuiTableRow\n        className={classes.root}\n        selected={expanded}\n        hover={true}\n        onClick={toggle}\n      >\n        <TableCell>\n          <IconButton size=\"small\">\n            {expanded ? <KeyboardArrowUpIcon /> : <KeyboardArrowDownIcon />}\n          </IconButton>\n        </TableCell>\n        {mainTableConfig.map((cell) => {\n          const { selector, render } = cell;\n          return (\n            <TableCell key={cell.key} align={cell.cellAlign}>\n              {render(selector(currentDenormalizedEmployee))}\n            </TableCell>\n          );\n        })}\n      </MuiTableRow>\n      <MuiTableRow>\n        <TableCell className={classes.noGutters} colSpan={6}>\n          <Collapse in={expanded} timeout=\"auto\">\n            {expanded ? (\n              <Box margin={1}>\n                <Typography variant=\"h6\" gutterBottom component=\"div\">\n                  Коллеги\n                </Typography>\n                <Table>\n                  <TableHead>\n                    <MuiTableRow>\n                      {nestedTableConfig.map((cell) => (\n                        <TableCell key={cell.key} align={cell.titleAlign}>\n                          {cell.title}\n                        </TableCell>\n                      ))}\n                    </MuiTableRow>\n                  </TableHead>\n                  <TableBody>\n                    {colleaguesKeys.length > 0 ? (\n                      colleaguesKeys.map((colleagueKey: string) => {\n                        const colleague =\n                          currentDenormalizedEmployee.colleagues[colleagueKey];\n\n                        return (\n                          <MuiTableRow key={colleague.id}>\n                            {nestedTableConfig.map((cell) => {\n                              const { selector, render } = cell;\n                              return (\n                                <TableCell\n                                  key={cell.key}\n                                  align={cell.cellAlign}\n                                >\n                                  {render(selector(colleague))}\n                                </TableCell>\n                              );\n                            })}\n                          </MuiTableRow>\n                        );\n                      })\n                    ) : (\n                      <MuiTableRow>\n                        <TableCell\n                          component=\"th\"\n                          scope=\"row\"\n                          colSpan={2}\n                          align=\"center\"\n                        >\n                          Коллеги отсутствуют\n                        </TableCell>\n                      </MuiTableRow>\n                    )}\n                  </TableBody>\n                </Table>\n              </Box>\n            ) : null}\n          </Collapse>\n        </TableCell>\n      </MuiTableRow>\n    </React.Fragment>\n  );\n}\n\nexport { TableRow };\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport {\n  Table as MUITable,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow as MUITableRow,\n  Paper,\n  Box,\n  Typography,\n  makeStyles,\n} from \"@material-ui/core\";\n\nimport type { StoreState } from \"store\";\nimport type { EmployeeEntity } from \"store/models\";\nimport type { WithoutChildren } from \"types/children\";\n\nimport { mainTableConfig } from \"./config\";\nimport { TableRow } from \"./TableRow\";\nimport { selectAllEmployees } from \"store/features/employees\";\n\nconst useStyles = makeStyles(() => ({\n  listContainer: {\n    maxHeight: \"100%\",\n    overflow: \"auto\",\n  },\n}));\n\nfunction EmployeesList(props: WithoutChildren) {\n  const classes = useStyles();\n  const employees = useSelector<StoreState>((state) =>\n    selectAllEmployees(state.employees)\n  ) as EmployeeEntity[];\n\n  return (\n    <Paper className={classes.listContainer}>\n      <MUITable stickyHeader>\n        <TableHead>\n          <MUITableRow>\n            <TableCell />\n            {mainTableConfig.map((cell) => (\n              <TableCell key={cell.key} align={cell.titleAlign}>\n                {cell.title}\n              </TableCell>\n            ))}\n          </MUITableRow>\n        </TableHead>\n        <TableBody>\n          {employees.map((employee) => (\n            <TableRow key={employee.id} data={employee} />\n          ))}\n        </TableBody>\n      </MUITable>\n      {employees.length === 0 && (\n        <Box\n          display=\"flex\"\n          flexDirection=\"column\"\n          height=\"100%\"\n          padding={10}\n          justifyContent=\"center\"\n          alignItems=\"center\"\n          textAlign=\"center\"\n        >\n          <Typography variant=\"h5\">Нет данных для отображения</Typography>\n        </Box>\n      )}\n    </Paper>\n  );\n}\n\nEmployeesList.whyDidYouRender = true;\n\nexport { EmployeesList };\n","import { createAction, createReducer } from \"@reduxjs/toolkit\";\n\nimport type { EmployeeUpdate } from \"store/features/employees\";\n\nimport { ColleagueState } from \"store/models\";\nimport { EMPTY_EMPLOYEE } from \"store/models\";\n\nexport const clearPendingEmployeeAction = createAction(\"pendingEmployee/clear\");\nexport const updatePendingEmployeeAction = createAction<\n  Omit<EmployeeUpdate, \"id\">\n>(\"pendingEmployee/update\");\n\nexport const employeeInfoReducer = createReducer(EMPTY_EMPLOYEE, (builder) => {\n  builder\n    .addCase(clearPendingEmployeeAction, (state) => {\n      Object.assign(state, EMPTY_EMPLOYEE);\n    })\n    .addCase(updatePendingEmployeeAction, (state, { payload }) => {\n      const { changes } = payload;\n\n      if (\"colleagues\" in changes) {\n        const { id: colleagueId, state: colleagueState } = changes.colleagues!;\n\n        if (colleagueState === ColleagueState.Added) {\n          state.colleagues.push(colleagueId);\n        } else {\n          state.colleagues = state.colleagues.filter(\n            (id) => id !== colleagueId\n          );\n        }\n      } else {\n        Object.assign(state, changes);\n      }\n    });\n});\n","import { createContext, useContext } from \"react\";\n\nimport type { Dispatch } from \"react\";\nimport type { EmployeeEntity } from \"store/models\";\n\nimport { EMPTY_EMPLOYEE } from \"store/models\";\n\nexport type EmployeeInformationTabPanelPossibleValues =\n  | \"employeeInfo\"\n  | \"employeeColleagues\";\n\ninterface EmployeeInformationContext {\n  pendingEmployee: EmployeeEntity;\n  currentTab: EmployeeInformationTabPanelPossibleValues;\n  dispatch: Dispatch<any>;\n}\n\nconst initialState: EmployeeInformationContext = {\n  currentTab: \"employeeInfo\",\n  pendingEmployee: EMPTY_EMPLOYEE,\n  dispatch: () => {},\n};\n\nconst EmployeeInformationContext = createContext(initialState);\n\nfunction useEmployeeInformation(): EmployeeInformationContext {\n  return useContext(EmployeeInformationContext);\n}\n\nexport { EmployeeInformationContext, useEmployeeInformation };\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\n\nimport type { EmployeeInformationTabPanelPossibleValues } from \"./context\";\nimport type { WithChildren } from \"types/children\";\n\nimport { useEmployeeInformation } from \"./context\";\n\nconst useStyles = makeStyles((theme) => ({\n  tabPanelContainer: {\n    flex: 1,\n    position: \"relative\",\n  },\n  tabPanel: {\n    padding: theme.spacing(0, 0.5, 0, 0.5),\n    position: \"absolute\",\n    right: 0,\n    left: 0,\n    top: 0,\n    bottom: 0,\n  },\n}));\n\ninterface TabPanelProps {\n  name: EmployeeInformationTabPanelPossibleValues;\n}\n\nfunction TabPanel({ children, name, ...other }: WithChildren<TabPanelProps>) {\n  const classes = useStyles();\n  const { currentTab } = useEmployeeInformation();\n\n  const isHidden = currentTab !== name;\n\n  return (\n    <div className={classes.tabPanelContainer} hidden={isHidden} {...other}>\n      <div className={classes.tabPanel}>{children}</div>\n    </div>\n  );\n}\n\nexport { TabPanel };\n","import React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {\n  makeStyles,\n  Checkbox,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  Typography,\n  Box,\n  Card,\n  CardHeader,\n  Divider,\n} from \"@material-ui/core\";\n\nimport type { StoreState } from \"store\";\nimport type { Employee, EmployeeEntity } from \"store/models\";\nimport type { WithoutChildren } from \"types/children\";\n\nimport { updatePendingEmployeeAction } from \"./state\";\nimport {\n  updateEmployeeAction,\n  selectedEmployeeSelector,\n  selectAllDenormalizedEmployees,\n} from \"store/features/employees\";\nimport { ColleagueState, EMPTY_EMPLOYEE } from \"store/models\";\nimport { TabPanel } from \"./TabPanel\";\nimport { useEmployeeInformation } from \"./context\";\n\nconst useStyles = makeStyles(() => ({\n  card: {\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n  },\n  cardHeader: {\n    textAlign: \"center\",\n  },\n  list: {\n    width: \"100%\",\n    overflow: \"auto\",\n    flex: 1,\n  },\n}));\n\nfunction ColleaguesTab(props: WithoutChildren) {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n\n  const { pendingEmployee, dispatch: localDispatch } = useEmployeeInformation();\n\n  const selectedEmployee = useSelector<StoreState>((state) =>\n    selectedEmployeeSelector(state.employees)\n  ) as EmployeeEntity;\n\n  const employees = useSelector<StoreState>((state) =>\n    selectAllDenormalizedEmployees(state)\n  ) as Employee[];\n\n  const employeesCount = employees.length;\n  const isEditingSelectedEmployee = selectedEmployee !== EMPTY_EMPLOYEE;\n  const employee = isEditingSelectedEmployee\n    ? selectedEmployee\n    : pendingEmployee;\n\n  return (\n    <TabPanel name=\"employeeColleagues\">\n      <Card className={classes.card} elevation={0}>\n        {employeesCount > 0 ? (\n          <>\n            <CardHeader\n              className={classes.cardHeader}\n              subheader={`${employee.colleagues.length} / ${employeesCount}`}\n            />\n            <Divider />\n            <List className={classes.list}>\n              {employees.map(({ fullname, position, id: colleagueId }) => {\n                return (\n                  <ListItem key={colleagueId} component=\"li\">\n                    <ListItemIcon>\n                      <Checkbox\n                        disableRipple\n                        checked={\n                          employee.colleagues.indexOf(colleagueId) !== -1\n                        }\n                        onChange={({ target: { checked } }) => {\n                          isEditingSelectedEmployee\n                            ? dispatch(\n                                updateEmployeeAction({\n                                  id: selectedEmployee.id,\n                                  changes: {\n                                    colleagues: {\n                                      id: colleagueId,\n                                      state: checked\n                                        ? ColleagueState.Added\n                                        : ColleagueState.Removed,\n                                    },\n                                  },\n                                })\n                              )\n                            : localDispatch(\n                                updatePendingEmployeeAction({\n                                  changes: {\n                                    colleagues: {\n                                      id: colleagueId,\n                                      state: checked\n                                        ? ColleagueState.Added\n                                        : ColleagueState.Removed,\n                                    },\n                                  },\n                                })\n                              );\n                        }}\n                      />\n                    </ListItemIcon>\n                    <ListItemText primary={fullname} secondary={position} />\n                  </ListItem>\n                );\n              })}\n            </List>\n          </>\n        ) : (\n          <Box\n            display=\"flex\"\n            flexDirection=\"column\"\n            height=\"100%\"\n            justifyContent=\"center\"\n            alignItems=\"center\"\n            textAlign=\"center\"\n          >\n            <Typography variant=\"h5\">Нет данных для отображения</Typography>\n          </Box>\n        )}\n      </Card>\n    </TabPanel>\n  );\n}\n\nexport { ColleaguesTab };\n","import React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {\n  Grid,\n  FormControl,\n  FormLabel,\n  FormHelperText,\n  Input,\n  TextField,\n  MenuItem,\n  FormControlLabel,\n  RadioGroup,\n  Checkbox,\n  Radio,\n  Select,\n} from \"@material-ui/core\";\nimport { DatePicker } from \"@material-ui/pickers\";\n\nimport type { StoreState } from \"store\";\nimport type { EmployeeEntity, EmployeePositionEntity } from \"store/models\";\nimport type { WithoutChildren } from \"types/children\";\n\nimport { updatePendingEmployeeAction } from \"./state\";\nimport { TabPanel } from \"./TabPanel\";\nimport { useEmployeeInformation } from \"./context\";\nimport {\n  updateEmployeeAction,\n  selectedEmployeeSelector,\n} from \"store/features/employees\";\nimport { selectAllPositions } from \"store/features/positions\";\nimport { Gender, EMPTY_EMPLOYEE } from \"store/models\";\n\nfunction DescriptionTab(props: WithoutChildren) {\n  const dispatch = useDispatch();\n  const { pendingEmployee, dispatch: localDispatch } = useEmployeeInformation();\n\n  const selectedEmployee = useSelector<StoreState>((state) =>\n    selectedEmployeeSelector(state.employees)\n  ) as EmployeeEntity;\n\n  const positions = useSelector<StoreState>((state) =>\n    selectAllPositions(state.positions)\n  ) as EmployeePositionEntity[];\n\n  const isEditingSelectedEmployee = selectedEmployee !== EMPTY_EMPLOYEE;\n  const currentEmployee =\n    selectedEmployee !== EMPTY_EMPLOYEE ? selectedEmployee : pendingEmployee;\n\n  const fullnameFilled = currentEmployee.fullname.length !== 0;\n  const positionFilled = currentEmployee.position.length !== 0;\n\n  return (\n    <TabPanel name=\"employeeInfo\">\n      <Grid container spacing={3}>\n        <Grid item xs={12}>\n          <FormControl fullWidth required error={!fullnameFilled}>\n            <FormLabel>ФИО</FormLabel>\n            <Input\n              value={currentEmployee.fullname}\n              onChange={({ target: { value } }) =>\n                isEditingSelectedEmployee\n                  ? dispatch(\n                      updateEmployeeAction({\n                        id: selectedEmployee.id,\n                        changes: {\n                          fullname: value,\n                        },\n                      })\n                    )\n                  : localDispatch(\n                      updatePendingEmployeeAction({\n                        changes: {\n                          fullname: value,\n                        },\n                      })\n                    )\n              }\n            />\n          </FormControl>\n          <FormHelperText error={!fullnameFilled}>\n            Поле обязательно для ввода\n          </FormHelperText>\n        </Grid>\n        <Grid item xs={12}>\n          <FormControl fullWidth required error={!positionFilled}>\n            <FormLabel>Должность</FormLabel>\n            <Select\n              displayEmpty\n              value={currentEmployee.position}\n              onChange={({ target: { value } }) =>\n                isEditingSelectedEmployee\n                  ? dispatch(\n                      updateEmployeeAction({\n                        id: selectedEmployee.id,\n                        changes: {\n                          position: value as string,\n                        },\n                      })\n                    )\n                  : localDispatch(\n                      updatePendingEmployeeAction({\n                        changes: {\n                          position: value as string,\n                        },\n                      })\n                    )\n              }\n            >\n              {positions.map((position) => (\n                <MenuItem key={position.id} value={position.id}>\n                  {position.value}\n                </MenuItem>\n              ))}\n            </Select>\n            <FormHelperText error={!positionFilled}>\n              Поле обязательно для ввода\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n        <Grid item xs={12}>\n          <FormControl fullWidth>\n            <FormLabel>День рождения</FormLabel>\n            <DatePicker\n              label=\" \"\n              disableMaskedInput\n              showDaysOutsideCurrentMonth\n              value={currentEmployee.birthday}\n              minDate={new Date(1900, 0)}\n              maxDate={new Date()}\n              onChange={(date) =>\n                isEditingSelectedEmployee\n                  ? dispatch(\n                      updateEmployeeAction({\n                        id: selectedEmployee.id,\n                        changes: {\n                          birthday: date,\n                        },\n                      })\n                    )\n                  : localDispatch(\n                      updatePendingEmployeeAction({\n                        changes: {\n                          birthday: date,\n                        },\n                      })\n                    )\n              }\n              renderInput={(props) => <TextField {...props} helperText=\"\" />}\n              inputFormat=\"dd MMMM yyyy\"\n            />\n          </FormControl>\n        </Grid>\n        <Grid item xs={12}>\n          <FormControl fullWidth>\n            <FormLabel>Пол</FormLabel>\n            <RadioGroup\n              row\n              value={currentEmployee.gender}\n              onChange={({ target: { value } }) =>\n                isEditingSelectedEmployee\n                  ? dispatch(\n                      updateEmployeeAction({\n                        id: selectedEmployee.id,\n                        changes: {\n                          gender: (+value as any) as Gender,\n                        },\n                      })\n                    )\n                  : localDispatch(\n                      updatePendingEmployeeAction({\n                        changes: { gender: (+value as any) as Gender },\n                      })\n                    )\n              }\n            >\n              <FormControlLabel\n                value={Gender.Male}\n                control={<Radio color=\"primary\" />}\n                label=\"Мужской\"\n              />\n              <FormControlLabel\n                value={Gender.Female}\n                control={<Radio color=\"primary\" />}\n                label=\"Женский\"\n              />\n            </RadioGroup>\n          </FormControl>\n        </Grid>\n        <Grid item xs={12}>\n          <FormControl fullWidth>\n            <FormControlLabel\n              label=\"Уволен\"\n              control={\n                <Checkbox\n                  checked={!!currentEmployee.isFired}\n                  onChange={({ target: { checked } }) =>\n                    isEditingSelectedEmployee\n                      ? dispatch(\n                          updateEmployeeAction({\n                            id: selectedEmployee.id,\n                            changes: {\n                              isFired: +!!checked,\n                            },\n                          })\n                        )\n                      : localDispatch(\n                          updatePendingEmployeeAction({\n                            changes: {\n                              isFired: +!!checked,\n                            },\n                          })\n                        )\n                  }\n                  color=\"primary\"\n                />\n              }\n            />\n          </FormControl>\n        </Grid>\n      </Grid>\n    </TabPanel>\n  );\n}\n\nexport { DescriptionTab };\n","import React, { memo } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { makeStyles, Paper, Button, Box } from \"@material-ui/core\";\nimport clsx from \"clsx\";\n\nimport type { StoreState } from \"store\";\nimport type { EmployeeId } from \"store/models\";\nimport type { WithoutChildren } from \"types/children\";\n\nimport {\n  updatePendingEmployeeAction,\n  clearPendingEmployeeAction,\n} from \"./state\";\nimport { EMPTY_ID, EMPTY_EMPLOYEE } from \"store/models\";\nimport { useEmployeeInformation } from \"./context\";\nimport {\n  selectedEmployeeIdSelector,\n  createEmployeeAction,\n  removeEmployeeAction,\n  markEmployeeIdAsSelectedAction,\n} from \"store/features/employees\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexDirection: \"column\",\n  },\n  box: {\n    display: \"flex\",\n    justifyContent: \"space-around\",\n    padding: theme.spacing(2),\n  },\n  gutter: {\n    \"& > :first-child\": {\n      marginRight: theme.spacing(1),\n    },\n  },\n}));\n\nfunction ControlsBase(props: WithoutChildren) {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const selectedEmployeeId = useSelector<StoreState>((state) =>\n    selectedEmployeeIdSelector(state.employees)\n  ) as EmployeeId;\n\n  const { pendingEmployee, dispatch: localDispatch } = useEmployeeInformation();\n\n  const add = () => {\n    dispatch(createEmployeeAction(pendingEmployee));\n    localDispatch(updatePendingEmployeeAction({ changes: EMPTY_EMPLOYEE }));\n  };\n\n  const remove = () => {\n    dispatch(removeEmployeeAction(selectedEmployeeId));\n  };\n\n  const clear = () => {\n    dispatch(markEmployeeIdAsSelectedAction(EMPTY_ID));\n    localDispatch(clearPendingEmployeeAction());\n  };\n\n  const canCreateEmployee =\n    !selectedEmployeeId &&\n    pendingEmployee.fullname !== \"\" &&\n    pendingEmployee.position.length !== 0;\n\n  const canClear =\n    selectedEmployeeId ||\n    pendingEmployee.fullname !== \"\" ||\n    pendingEmployee.position.length !== 0;\n\n  return (\n    <Paper className={classes.root}>\n      <Box className={clsx(classes.box, classes.gutter)}>\n        <Button\n          variant=\"contained\"\n          fullWidth\n          color=\"primary\"\n          onClick={add}\n          disabled={!canCreateEmployee}\n        >\n          Добавить\n        </Button>\n        <Button\n          variant=\"contained\"\n          color=\"secondary\"\n          fullWidth\n          disabled={!selectedEmployeeId}\n          onClick={remove}\n        >\n          Удалить\n        </Button>\n      </Box>\n      <Box className={classes.box}>\n        <Button\n          variant=\"contained\"\n          fullWidth\n          color=\"primary\"\n          onClick={clear}\n          disabled={!canClear}\n        >\n          Очистить\n        </Button>\n      </Box>\n    </Paper>\n  );\n}\n\nconst Controls = memo(ControlsBase);\n\nexport { Controls };\n","import React, { useReducer, useState } from \"react\";\nimport { makeStyles, Typography, Paper, Tab, Tabs } from \"@material-ui/core\";\n\nimport type { WithoutChildren } from \"types/children\";\nimport type { EmployeeInformationTabPanelPossibleValues } from \"./context\";\n\nimport { employeeInfoReducer } from \"./state\";\nimport { ColleaguesTab } from \"./ColleaguesTab\";\nimport { DescriptionTab } from \"./DescriptionTab\";\nimport { EmployeeInformationContext } from \"./context\";\nimport { EMPTY_EMPLOYEE } from \"store/models\";\nimport { Controls } from \"./Controls\";\n\nconst minMaxHeight = \"34rem\";\nconst useStyles = makeStyles((theme) => ({\n  infoContainer: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    minHeight: minMaxHeight,\n    maxHeight: minMaxHeight,\n    padding: theme.spacing(2),\n  },\n}));\n\nconst EmployeeInformationContextProvider = EmployeeInformationContext.Provider;\n\nfunction EmployeeInformation(props: WithoutChildren) {\n  const classes = useStyles();\n\n  const [currentTab, setCurrentTab] = useState<\n    EmployeeInformationTabPanelPossibleValues\n  >(\"employeeInfo\");\n\n  const handleTabChange = (\n    event: React.ChangeEvent<{}>,\n    newValue: EmployeeInformationTabPanelPossibleValues\n  ) => {\n    setCurrentTab(newValue);\n  };\n\n  const [pendingEmployee, dispatch] = useReducer(\n    employeeInfoReducer,\n    EMPTY_EMPLOYEE\n  );\n\n  const value: EmployeeInformationContext = {\n    dispatch,\n    currentTab,\n    pendingEmployee,\n  };\n\n  return (\n    <EmployeeInformationContextProvider value={value}>\n      <Paper className={classes.infoContainer} elevation={1}>\n        <Typography variant=\"h6\" gutterBottom>\n          Данные о сотруднике\n        </Typography>\n        <Tabs centered value={currentTab} onChange={handleTabChange}>\n          <Tab value=\"employeeInfo\" label=\"Описание\" wrapped />\n          <Tab value=\"employeeColleagues\" label=\"Коллеги\" wrapped />\n        </Tabs>\n        <DescriptionTab />\n        <ColleaguesTab />\n      </Paper>\n      <Controls />\n    </EmployeeInformationContextProvider>\n  );\n}\n\nexport { EmployeeInformation };\n","import { configureStore, getDefaultMiddleware } from \"@reduxjs/toolkit\";\nimport { reducer as employeeReducer } from \"./features/employees\";\nimport { reducer as positionReducer } from \"./features/positions\";\n\nconst store = configureStore({\n  reducer: {\n    employees: employeeReducer,\n    positions: positionReducer,\n  },\n  middleware: getDefaultMiddleware({\n    thunk: false,\n    immutableCheck: false,\n    serializableCheck: false,\n  }),\n});\n\ntype StoreState = ReturnType<typeof store.getState>;\n\nexport { store };\nexport type { StoreState };\n","import React from \"react\";\nimport DateFnsUtils from \"@material-ui/pickers/adapter/date-fns\";\nimport { ru } from \"date-fns/locale\";\nimport { Provider } from \"react-redux\";\nimport { Grid, makeStyles } from \"@material-ui/core\";\nimport { LocalizationProvider } from \"@material-ui/pickers\";\n\nimport type { WithoutChildren } from \"types/children\";\n\nimport { RandomizeButton } from \"components/RandomizeButton\";\nimport { AppHeader } from \"components/AppHeader\";\nimport { EmployeesList } from \"components/EmployeesList\";\nimport { EmployeeInformation } from \"components/EmployeeInformation\";\n\nimport { store } from \"./store\";\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    flex: 1,\n    maxHeight: \"80%\",\n    \"& > :first-child\": {\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n    },\n    \"& > :last-child\": {\n      paddingRight: theme.spacing(2),\n    },\n  },\n  employeeListItem: {\n    maxHeight: \"100%\",\n  },\n  bottomGutter: {\n    \"& > :first-child\": {\n      marginBottom: theme.spacing(2),\n    },\n  },\n}));\n\nfunction App(props: WithoutChildren) {\n  const classes = useStyles();\n\n  return (\n    <LocalizationProvider dateAdapter={DateFnsUtils} locale={ru}>\n      <Provider store={store}>\n        <AppHeader />\n        <Grid className={classes.container} container>\n          <Grid className={classes.employeeListItem} item xs={12} sm={8}>\n            <EmployeesList />\n          </Grid>\n          <Grid className={classes.bottomGutter} item xs={12} sm={4}>\n            <EmployeeInformation />\n          </Grid>\n        </Grid>\n        <RandomizeButton />\n      </Provider>\n    </LocalizationProvider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { CssBaseline, ThemeProvider, createMuiTheme } from \"@material-ui/core\";\n\nimport App from \"./App\";\n\nconst containerSelector = \"root\";\n\nconst fullscreen = { width: \"100%\", height: \"100%\" };\nconst baseTheme = createMuiTheme({\n  overrides: {\n    MuiCssBaseline: {\n      \"@global\": {\n        html: { ...fullscreen },\n        body: { ...fullscreen },\n        [\"#\" + containerSelector]: {\n          ...fullscreen,\n          display: \"flex\",\n          flexDirection: \"column\",\n        },\n      },\n    },\n  },\n});\n\nfunction AppContainer() {\n  return (\n    <ThemeProvider theme={baseTheme}>\n      <CssBaseline />\n      <App />\n    </ThemeProvider>\n  );\n}\n\nReactDOM.render(<AppContainer />, document.getElementById(containerSelector));\n"],"sourceRoot":""}